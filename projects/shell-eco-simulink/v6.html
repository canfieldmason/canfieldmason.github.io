<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">

<title>Shell Eco-Marathon Simulation – Version 6</title>

<style>

body {
  font-family: Arial, Helvetica, sans-serif;
  max-width: 950px;
  margin: 40px auto;
  padding: 0 20px;
  color: #222;
  line-height: 1.6;
}

h1 {
  text-align: center;
  margin-bottom: 10px;
}

h2 {
  margin-top: 45px;
  color: #111;
}

.section-intro {
  text-align: center;
  font-style: italic;
  color: #555;
  margin-bottom: 25px;
}

hr {
  border: none;
  border-top: 1px solid #ddd;
  margin: 45px 0;
}

.box {
  border: 1px solid #ddd;
  border-radius: 8px;
  padding: 18px;
  background: #fafafa;
  margin: 25px 0;
}

.compare {

display:grid;
grid-template-columns:1fr 1fr;
gap:25px;
margin-top:25px;

}

.compare img{

width:100%;
border:1px solid #ddd;
border-radius:4px;

}

.compare em{

display:block;
text-align:center;
margin-top:6px;
color:#555;

}

#gallery {

display:grid;
grid-template-columns:repeat(auto-fill,minmax(240px,1fr));
gap:20px;
margin-top:20px;

}

.gallery-item img{

width:100%;
border:1px solid #ddd;
border-radius:4px;

}

.gallery-item em{

display:block;
margin-top:8px;
font-size:.9em;
color:#555;

}

.download-btn {

display:inline-block;
background:#0066cc;
color:white;
padding:10px 18px;
text-decoration:none;
border-radius:6px;
font-weight:bold;

}

.download-btn:hover {

background:#004c99;

}

</style>
</head>

<body>

<h1>Shell Eco-Marathon Vehicle Simulation – V6</h1>

<p class="section-intro">

Realistic burn-coast driver strategy replacing PID cruise control behavior.

</p>

<hr>

<h2>Overview</h2>

<p>

Version 6 represents a major correction in the simulation philosophy.
Earlier versions used PID control to regulate vehicle speed, which
produced smooth cruise-control behavior. While stable, this did not
represent the real Shell Eco-Marathon driving strategy.

</p>

<p>

Real competition vehicles operate using a <b>burn-and-coast strategy</b>,
where the engine runs at high efficiency during short bursts followed
by long coasting periods with zero fuel consumption.

</p>

<p>

Version 6 removes the PID controller and replaces it with a pure
threshold-based control system that produces realistic pulsed throttle
behavior.

</p>

<hr>

<h2>Velocity Behavior Comparison</h2>

<p>

Earlier PID-controlled simulations produced nearly constant velocity.
The burn-coast controller produces oscillating velocity between
upper and lower thresholds, matching real competition driving.

</p>

<div class="compare">

<div>

<img src="images/v6/pid_velocity.png">

<em>
PID Controller Velocity Response (V3–V5)
Nearly constant speed behavior
</em>

</div>

<div>

<img src="images/v6/burn_velocity.png">

<em>
Burn-Coast Velocity Response (V6)
Realistic oscillating speed profile
</em>

</div>

</div>

<h2>Throttle Behavior Comparison</h2>

<p>

Throttle behavior clearly shows the difference between the two control
approaches. The PID controller continuously adjusts throttle, while the
burn-coast controller produces discrete full-power pulses followed by
long coasting intervals.

</p>

<div class="compare">

<div>

<img src="images/v6/pid_throttle.png">

<em>
PID Throttle Response
Continuous modulation
</em>

</div>

<div>

<img src="images/v6/burn_throttle.png">

<em>
Burn-Coast Throttle Response
Full on/off pulses
</em>

</div>

</div>
 
<hr>

<h2>Subsystem Architecture Updates</h2>

<p>

Version 6 introduced structural improvements to both the DriverStrat
and Powertrain subsystems. The driver model was simplified to a
pure burn–coast controller, while the powertrain model was updated
to use dyno-derived engine torque maps.

</p>

<div id="gallery">

<div class="gallery-item">

<img src="images/v6/driverstrat_v6.png">

<em>
DriverStrat V6 Burn-Coast Controller
</em>

</div>

<div class="gallery-item">

<img src="images/v6/powertrain_v6.png">

<em>
Powertrain V6 with Dyno Torque Map Lookup
</em>

</div>

</div>

<hr>

<h2>Driver Strategy Redesign</h2>

<div class="box">

<h3>Previous Strategy (V3–V5)</h3>

<ul>

<li>PID controller regulated speed continuously</li>

<li>Smooth throttle response</li>

<li>Near-constant velocity</li>

<li>Behaved like automotive cruise control</li>

<li>Unrealistic for Shell Eco Marathon</li>

</ul>

<h3>Burn-Coast Strategy (V6)</h3>

<ul>

<li>PID controller removed</li>

<li>Throttle fully on or fully off</li>

<li>Velocity thresholds control switching</li>

<li>Realistic pulsed engine operation</li>

<li>Replicates competition driving technique</li>

</ul>

</div>

<hr>

<h2>Driver Strategy Logic</h2>

<div class="box">

<p>

Throttle is determined entirely by vehicle speed:

</p>

<ul>

<li>If velocity &lt; v_low → Throttle = 1</li>

<li>If velocity &gt; v_high → Throttle = 0</li>

<li>Otherwise maintain previous state</li>

</ul>

<p>

This hysteresis behavior prevents rapid switching and creates stable
burn-coast cycles.

</p>

</div>

<hr>

<h2>Simulation Behavior</h2>

<div class="box">

<ul>

<li>Throttle becomes square-wave pulses</li>

<li>Velocity forms repeating triangular patterns</li>

<li>Engine operates near peak efficiency</li>

<li>Long coasting intervals minimize fuel use</li>

<li>Vehicle completes full track distance</li>

</ul>

</div>

<hr>

<h2>Simulation Gallery</h2>

<p>

Representative outputs from the burn-coast simulation are shown below.

</p>

<div id="gallery"></div>

<hr>

<h2>Improvements Over V5</h2>

<div class="box">

<ul>

<li>Realistic driver behavior</li>

<li>Correct Shell Eco Marathon strategy</li>

<li>Stable hysteresis switching</li>

<li>Improved physical realism</li>

<li>Reduced modeling assumptions</li>

</ul>

</div>

<hr>

<h2>Future Work (V7)</h2>

<ul>

<li>Track elevation profile integration</li>

<li>Optimal switching strategy</li>

<li>Efficiency map optimization</li>

<li>Lap simulation</li>

<li>Experimental validation</li>

</ul>

<script>

const galleryImages = [

{
src:"images/v6/engine_speed_bc.png",
caption:"Engine speed during burn cycles"
},

{
src:"images/v6/energy_distance_bc.png",
caption:"Energy consumption vs distance"
}

];

const gallery=document.getElementById("gallery");

galleryImages.forEach(item=>{

let div=document.createElement("div");
div.className="gallery-item";

let img=document.createElement("img");
img.src=item.src;

let cap=document.createElement("em");
cap.textContent=item.caption;

div.appendChild(img);
div.appendChild(cap);

gallery.appendChild(div);

});

</script>

</body>
</html>
